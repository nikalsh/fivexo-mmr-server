var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function r(e){e.forEach(t)}function o(e){return"function"==typeof e}function s(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function c(t,...n){if(null==t)return e;const r=t.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function a(e){let t;return c(e,e=>t=e)(),t}function i(e,t,n){e.$$.on_destroy.push(c(t,n))}function u(e,t){e.appendChild(t)}function l(e,t,n){e.insertBefore(t,n||null)}function f(e){e.parentNode.removeChild(e)}function d(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function p(e){return document.createElement(e)}function h(e){return document.createTextNode(e)}function m(){return h(" ")}function g(){return h("")}function v(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function y(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function w(e,t){t=""+t,e.data!==t&&(e.data=t)}function b(e,t){(null!=t||e.value)&&(e.value=t)}function $(e,t,n){e.classList[n?"add":"remove"](t)}let x;function C(e){x=e}function k(){if(!x)throw new Error("Function called outside component initialization");return x}function S(e){k().$$.on_destroy.push(e)}const E=[],N=[],O=[],R=[],A=Promise.resolve();let T=!1;function j(e){O.push(e)}let L=!1;const q=new Set;function B(){if(!L){L=!0;do{for(let e=0;e<E.length;e+=1){const t=E[e];C(t),U(t.$$)}for(E.length=0;N.length;)N.pop()();for(let e=0;e<O.length;e+=1){const t=O[e];q.has(t)||(q.add(t),t())}O.length=0}while(E.length);for(;R.length;)R.pop()();T=!1,L=!1,q.clear()}}function U(e){if(null!==e.fragment){e.update(),r(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(j)}}const _=new Set;let P;function D(e,t){e&&e.i&&(_.delete(e),e.i(t))}function F(e,t,n,r){if(e&&e.o){if(_.has(e))return;_.add(e),P.c.push(()=>{_.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}}function I(e){e&&e.c()}function M(e,n,s){const{fragment:c,on_mount:a,on_destroy:i,after_update:u}=e.$$;c&&c.m(n,s),j(()=>{const n=a.map(t).filter(o);i?i.push(...n):r(n),e.$$.on_mount=[]}),u.forEach(j)}function J(e,t){const n=e.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function H(e,t){-1===e.$$.dirty[0]&&(E.push(e),T||(T=!0,A.then(B)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function z(t,o,s,c,a,i,u=[-1]){const l=x;C(t);const d=o.props||{},p=t.$$={fragment:null,ctx:null,props:i,update:e,not_equal:a,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(l?l.$$.context:[]),callbacks:n(),dirty:u};let h=!1;if(p.ctx=s?s(t,d,(e,n,...r)=>{const o=r.length?r[0]:n;return p.ctx&&a(p.ctx[e],p.ctx[e]=o)&&(p.bound[e]&&p.bound[e](o),h&&H(t,e)),n}):[],p.update(),h=!0,r(p.before_update),p.fragment=!!c&&c(p.ctx),o.target){if(o.hydrate){const e=function(e){return Array.from(e.childNodes)}(o.target);p.fragment&&p.fragment.l(e),e.forEach(f)}else p.fragment&&p.fragment.c();o.intro&&D(t.$$.fragment),M(t,o.target,o.anchor),B()}C(l)}class Y{$destroy(){J(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(){}}var W=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}},X=Object.prototype.toString;function V(e){return"[object Array]"===X.call(e)}function G(e){return void 0===e}function K(e){return null!==e&&"object"==typeof e}function Q(e){return"[object Function]"===X.call(e)}function Z(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),V(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}var ee={isArray:V,isArrayBuffer:function(e){return"[object ArrayBuffer]"===X.call(e)},isBuffer:function(e){return null!==e&&!G(e)&&null!==e.constructor&&!G(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:K,isUndefined:G,isDate:function(e){return"[object Date]"===X.call(e)},isFile:function(e){return"[object File]"===X.call(e)},isBlob:function(e){return"[object Blob]"===X.call(e)},isFunction:Q,isStream:function(e){return K(e)&&Q(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:Z,merge:function e(){var t={};function n(n,r){"object"==typeof t[r]&&"object"==typeof n?t[r]=e(t[r],n):t[r]=n}for(var r=0,o=arguments.length;r<o;r++)Z(arguments[r],n);return t},deepMerge:function e(){var t={};function n(n,r){"object"==typeof t[r]&&"object"==typeof n?t[r]=e(t[r],n):t[r]="object"==typeof n?e({},n):n}for(var r=0,o=arguments.length;r<o;r++)Z(arguments[r],n);return t},extend:function(e,t,n){return Z(t,(function(t,r){e[r]=n&&"function"==typeof t?W(t,n):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}};function te(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var ne=function(e,t,n){if(!t)return e;var r;if(n)r=n(t);else if(ee.isURLSearchParams(t))r=t.toString();else{var o=[];ee.forEach(t,(function(e,t){null!=e&&(ee.isArray(e)?t+="[]":e=[e],ee.forEach(e,(function(e){ee.isDate(e)?e=e.toISOString():ee.isObject(e)&&(e=JSON.stringify(e)),o.push(te(t)+"="+te(e))})))})),r=o.join("&")}if(r){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e};function re(){this.handlers=[]}re.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},re.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},re.prototype.forEach=function(e){ee.forEach(this.handlers,(function(t){null!==t&&e(t)}))};var oe=re,se=function(e,t,n){return ee.forEach(n,(function(n){e=n(e,t)})),e},ce=function(e){return!(!e||!e.__CANCEL__)},ae=function(e,t){ee.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))},ie=function(e,t,n,r,o){return function(e,t,n,r,o){return e.config=t,n&&(e.code=n),e.request=r,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}(new Error(e),t,n,r,o)},ue=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],le=ee.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=ee.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0},fe=ee.isStandardBrowserEnv()?{write:function(e,t,n,r,o,s){var c=[];c.push(e+"="+encodeURIComponent(t)),ee.isNumber(n)&&c.push("expires="+new Date(n).toGMTString()),ee.isString(r)&&c.push("path="+r),ee.isString(o)&&c.push("domain="+o),!0===s&&c.push("secure"),document.cookie=c.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},de=function(e){return new Promise((function(t,n){var r=e.data,o=e.headers;ee.isFormData(r)&&delete o["Content-Type"];var s=new XMLHttpRequest;if(e.auth){var c=e.auth.username||"",a=e.auth.password||"";o.Authorization="Basic "+btoa(c+":"+a)}var i,u,l=(i=e.baseURL,u=e.url,i&&!/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(u)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(i,u):u);if(s.open(e.method.toUpperCase(),ne(l,e.params,e.paramsSerializer),!0),s.timeout=e.timeout,s.onreadystatechange=function(){if(s&&4===s.readyState&&(0!==s.status||s.responseURL&&0===s.responseURL.indexOf("file:"))){var r,o,c,a,i,u="getAllResponseHeaders"in s?(r=s.getAllResponseHeaders(),i={},r?(ee.forEach(r.split("\n"),(function(e){if(a=e.indexOf(":"),o=ee.trim(e.substr(0,a)).toLowerCase(),c=ee.trim(e.substr(a+1)),o){if(i[o]&&ue.indexOf(o)>=0)return;i[o]="set-cookie"===o?(i[o]?i[o]:[]).concat([c]):i[o]?i[o]+", "+c:c}})),i):i):null,l={data:e.responseType&&"text"!==e.responseType?s.response:s.responseText,status:s.status,statusText:s.statusText,headers:u,config:e,request:s};!function(e,t,n){var r=n.config.validateStatus;!r||r(n.status)?e(n):t(ie("Request failed with status code "+n.status,n.config,null,n.request,n))}(t,n,l),s=null}},s.onabort=function(){s&&(n(ie("Request aborted",e,"ECONNABORTED",s)),s=null)},s.onerror=function(){n(ie("Network Error",e,null,s)),s=null},s.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(ie(t,e,"ECONNABORTED",s)),s=null},ee.isStandardBrowserEnv()){var f=fe,d=(e.withCredentials||le(l))&&e.xsrfCookieName?f.read(e.xsrfCookieName):void 0;d&&(o[e.xsrfHeaderName]=d)}if("setRequestHeader"in s&&ee.forEach(o,(function(e,t){void 0===r&&"content-type"===t.toLowerCase()?delete o[t]:s.setRequestHeader(t,e)})),ee.isUndefined(e.withCredentials)||(s.withCredentials=!!e.withCredentials),e.responseType)try{s.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&s.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&s.upload&&s.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){s&&(s.abort(),n(e),s=null)})),void 0===r&&(r=null),s.send(r)}))},pe={"Content-Type":"application/x-www-form-urlencoded"};function he(e,t){!ee.isUndefined(e)&&ee.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var me,ge={adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(me=de),me),transformRequest:[function(e,t){return ae(t,"Accept"),ae(t,"Content-Type"),ee.isFormData(e)||ee.isArrayBuffer(e)||ee.isBuffer(e)||ee.isStream(e)||ee.isFile(e)||ee.isBlob(e)?e:ee.isArrayBufferView(e)?e.buffer:ee.isURLSearchParams(e)?(he(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):ee.isObject(e)?(he(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};ge.headers={common:{Accept:"application/json, text/plain, */*"}},ee.forEach(["delete","get","head"],(function(e){ge.headers[e]={}})),ee.forEach(["post","put","patch"],(function(e){ge.headers[e]=ee.merge(pe)}));var ve=ge;function ye(e){e.cancelToken&&e.cancelToken.throwIfRequested()}var we=function(e){return ye(e),e.headers=e.headers||{},e.data=se(e.data,e.headers,e.transformRequest),e.headers=ee.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),ee.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||ve.adapter)(e).then((function(t){return ye(e),t.data=se(t.data,t.headers,e.transformResponse),t}),(function(t){return ce(t)||(ye(e),t&&t.response&&(t.response.data=se(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))},be=function(e,t){t=t||{};var n={},r=["url","method","params","data"],o=["headers","auth","proxy"],s=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];ee.forEach(r,(function(e){void 0!==t[e]&&(n[e]=t[e])})),ee.forEach(o,(function(r){ee.isObject(t[r])?n[r]=ee.deepMerge(e[r],t[r]):void 0!==t[r]?n[r]=t[r]:ee.isObject(e[r])?n[r]=ee.deepMerge(e[r]):void 0!==e[r]&&(n[r]=e[r])})),ee.forEach(s,(function(r){void 0!==t[r]?n[r]=t[r]:void 0!==e[r]&&(n[r]=e[r])}));var c=r.concat(o).concat(s),a=Object.keys(t).filter((function(e){return-1===c.indexOf(e)}));return ee.forEach(a,(function(r){void 0!==t[r]?n[r]=t[r]:void 0!==e[r]&&(n[r]=e[r])})),n};function $e(e){this.defaults=e,this.interceptors={request:new oe,response:new oe}}$e.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=be(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[we,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)n=n.then(t.shift(),t.shift());return n},$e.prototype.getUri=function(e){return e=be(this.defaults,e),ne(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},ee.forEach(["delete","get","head","options"],(function(e){$e.prototype[e]=function(t,n){return this.request(ee.merge(n||{},{method:e,url:t}))}})),ee.forEach(["post","put","patch"],(function(e){$e.prototype[e]=function(t,n,r){return this.request(ee.merge(r||{},{method:e,url:t,data:n}))}}));var xe=$e;function Ce(e){this.message=e}Ce.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},Ce.prototype.__CANCEL__=!0;var ke=Ce;function Se(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new ke(e),t(n.reason))}))}Se.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},Se.source=function(){var e;return{token:new Se((function(t){e=t})),cancel:e}};var Ee=Se;function Ne(e){var t=new xe(e),n=W(xe.prototype.request,t);return ee.extend(n,xe.prototype,t),ee.extend(n,t),n}var Oe=Ne(ve);Oe.Axios=xe,Oe.create=function(e){return Ne(be(Oe.defaults,e))},Oe.Cancel=ke,Oe.CancelToken=Ee,Oe.isCancel=ce,Oe.all=function(e){return Promise.all(e)},Oe.spread=function(e){return function(t){return e.apply(null,t)}};var Re=Oe,Ae=Oe;Re.default=Ae;var Te=Re;let je="http://localhost:8080";async function Le(){return Te.get(je+"/api/player/new")}async function qe(e){return Te.get(je+"/api/player/"+e)}function Be(e,t,n){const r=e.slice();return r[1]=t[n],r[3]=n,r}function Ue(e){let t,n,r,o=e[0],s=[];for(let t=0;t<o.length;t+=1)s[t]=Pe(Be(e,o,t));return{c(){t=p("table"),n=p("tr"),n.innerHTML='<th class="svelte-crwkr7">Level</th> \n        <th class="svelte-crwkr7">Name</th> \n        <th class="svelte-crwkr7">Wins</th> \n        <th class="svelte-crwkr7">Losses</th> \n        <th class="svelte-crwkr7">Ties</th> \n        <th class="svelte-crwkr7">Games</th> \n        <th class="svelte-crwkr7">Win%</th> \n        <th class="svelte-crwkr7">MMR</th>',r=m();for(let e=0;e<s.length;e+=1)s[e].c();y(n,"class","svelte-crwkr7"),y(t,"class","leaderboard svelte-crwkr7")},m(e,o){l(e,t,o),u(t,n),u(t,r);for(let e=0;e<s.length;e+=1)s[e].m(t,null)},p(e,n){if(1&n){let r;for(o=e[0],r=0;r<o.length;r+=1){const c=Be(e,o,r);s[r]?s[r].p(c,n):(s[r]=Pe(c),s[r].c(),s[r].m(t,null))}for(;r<s.length;r+=1)s[r].d(1);s.length=o.length}},d(e){e&&f(t),d(s,e)}}}function _e(t){let n;return{c(){n=p("p"),n.textContent="Loading leaderboard.."},m(e,t){l(e,n,t)},p:e,d(e){e&&f(n)}}}function Pe(e){let t,n,r,o,s,c,a,i,d,g,v,b,$,x,C,k,S,E,N,O,R,A,T,j,L,q,B,U=e[1].level+"",_=e[1].name+"",P=e[1].wins+"",D=e[1].losses+"",F=e[1].ties+"",I=e[1].wins+e[1].losses+e[1].ties+"",M=Fe(e[1])+"",J=e[1].experience+"";return{c(){var u;t=p("tr"),n=p("td"),r=h(U),s=m(),c=p("td"),a=h(_),i=m(),d=p("td"),g=h(P),v=m(),b=p("td"),$=h(D),x=m(),C=p("td"),k=h(F),S=m(),E=p("td"),N=h(I),O=m(),R=p("td"),A=h(M),T=h("%"),j=m(),L=p("td"),q=h(J),B=m(),y(n,"class",(u=0===e[3]?"goldentext":"bold",o=(null==u?"":u)+" svelte-crwkr7")),y(c,"class","bold svelte-crwkr7"),y(d,"class","greentext svelte-crwkr7"),y(b,"class","redtext svelte-crwkr7"),y(C,"class","redtext svelte-crwkr7"),y(E,"class","bold svelte-crwkr7"),y(R,"class","greentext svelte-crwkr7"),y(L,"class","bold svelte-crwkr7"),y(t,"class","svelte-crwkr7")},m(e,o){l(e,t,o),u(t,n),u(n,r),u(t,s),u(t,c),u(c,a),u(t,i),u(t,d),u(d,g),u(t,v),u(t,b),u(b,$),u(t,x),u(t,C),u(C,k),u(t,S),u(t,E),u(E,N),u(t,O),u(t,R),u(R,A),u(R,T),u(t,j),u(t,L),u(L,q),u(t,B)},p(e,t){1&t&&U!==(U=e[1].level+"")&&w(r,U),1&t&&_!==(_=e[1].name+"")&&w(a,_),1&t&&P!==(P=e[1].wins+"")&&w(g,P),1&t&&D!==(D=e[1].losses+"")&&w($,D),1&t&&F!==(F=e[1].ties+"")&&w(k,F),1&t&&I!==(I=e[1].wins+e[1].losses+e[1].ties+"")&&w(N,I),1&t&&M!==(M=Fe(e[1])+"")&&w(A,M),1&t&&J!==(J=e[1].experience+"")&&w(q,J)},d(e){e&&f(t)}}}function De(t){let n;function r(e,t){return e[0]?Ue:_e}let o=r(t),s=o(t);return{c(){n=p("main"),s.c(),y(n,"class","svelte-crwkr7")},m(e,t){l(e,n,t),s.m(n,null)},p(e,[t]){o===(o=r(e))&&s?s.p(e,t):(s.d(1),s=o(e),s&&(s.c(),s.m(n,null)))},i:e,o:e,d(e){e&&f(n),s.d()}}}function Fe(e){const t=function(e){return Math.trunc(e.wins/(e.wins+e.losses+e.ties)*100)}(e);return isNaN(t)?0:t}async function Ie(){return async function(){return Te.get(je+"/api/player")}()}function Me(e,t,n){let r;return setInterval(async()=>{let e=await Ie();n(0,r=e.data)},1e3),[r]}class Je extends Y{constructor(e){super(),z(this,e,Me,De,s,{})}}const He=[];function ze(t,n=e){let r;const o=[];function c(e){if(s(t,e)&&(t=e,r)){const e=!He.length;for(let e=0;e<o.length;e+=1){const n=o[e];n[1](),He.push(n,t)}if(e){for(let e=0;e<He.length;e+=2)He[e][0](He[e+1]);He.length=0}}}return{set:c,update:function(e){c(e(t))},subscribe:function(s,a=e){const i=[s,a];return o.push(i),1===o.length&&(r=n(c)||e),s(t),()=>{const e=o.indexOf(i);-1!==e&&o.splice(e,1),0===o.length&&(r(),r=null)}}}}const Ye=ze(0),We=ze(),Xe=ze(),Ve=ze(),Ge=ze();function Ke(e,t,n){const r=e.slice();return r[17]=t[n],r[19]=n,r}function Qe(e,t,n){const r=e.slice();return r[14]=t[n],r[16]=n,r}function Ze(e){let t,n,r,o,s=e[0][e[16]][e[19]]+"";function c(...t){return e[13](e[16],e[19],...t)}return{c(){t=p("button"),n=h(s),t.disabled=r=!e[5](e[1],e[2],e[3]),y(t,"class","svelte-tsu46q"),$(t,"enabled",e[5](e[1],e[2],e[3]))},m(e,r,s){l(e,t,r),u(t,n),s&&o(),o=v(t,"click",c)},p(o,c){e=o,1&c&&s!==(s=e[0][e[16]][e[19]]+"")&&w(n,s),14&c&&r!==(r=!e[5](e[1],e[2],e[3]))&&(t.disabled=r),46&c&&$(t,"enabled",e[5](e[1],e[2],e[3]))},d(e){e&&f(t),o()}}}function et(e){let t,n,r=e[14],o=[];for(let t=0;t<r.length;t+=1)o[t]=Ze(Ke(e,r,t));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=m(),n=p("br")},m(e,r){for(let t=0;t<o.length;t+=1)o[t].m(e,r);l(e,t,r),l(e,n,r)},p(e,n){if(111&n){let s;for(r=e[14],s=0;s<r.length;s+=1){const c=Ke(e,r,s);o[s]?o[s].p(c,n):(o[s]=Ze(c),o[s].c(),o[s].m(t.parentNode,t))}for(;s<o.length;s+=1)o[s].d(1);o.length=r.length}},d(e){d(o,e),e&&f(t),e&&f(n)}}}function tt(e){let t,n,r=e[4]===e[1]?"You win!":"You lose!";return{c(){t=p("p"),n=h(r)},m(e,r){l(e,t,r),u(t,n)},p(e,t){18&t&&r!==(r=e[4]===e[1]?"You win!":"You lose!")&&w(n,r)},d(e){e&&f(t)}}}function nt(e){let t,n=!!e[1]&&!!e[2]&&rt(e);return{c(){n&&n.c(),t=g()},m(e,r){n&&n.m(e,r),l(e,t,r)},p(e,r){e[1]&&e[2]?n?n.p(e,r):(n=rt(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&f(t)}}}function rt(e){let t,n,r,o;function s(e,t){return e[1]===e[2]?st:ot}let c=s(e),a=c(e);return{c(){a.c(),t=m(),n=p("p"),r=h("You: "),o=h(e[1])},m(e,s){a.m(e,s),l(e,t,s),l(e,n,s),u(n,r),u(n,o)},p(e,n){c!==(c=s(e))&&(a.d(1),a=c(e),a&&(a.c(),a.m(t.parentNode,t))),2&n&&w(o,e[1])},d(e){a.d(e),e&&f(t),e&&f(n)}}}function ot(e){let t;return{c(){t=p("p"),t.textContent="Opponents' turn"},m(e,n){l(e,t,n)},d(e){e&&f(t)}}}function st(e){let t;return{c(){t=p("p"),t.textContent="Your turn"},m(e,n){l(e,t,n)},d(e){e&&f(t)}}}function ct(t){let n,r,o,s,c=t[0],a=[];for(let e=0;e<c.length;e+=1)a[e]=et(Qe(t,c,e));function i(e,t){return e[3]?tt:nt}let h=i(t),g=h(t);return{c(){n=p("main"),r=p("h1"),r.textContent="Five In A Row",o=m();for(let e=0;e<a.length;e+=1)a[e].c();s=m(),g.c(),y(n,"class","svelte-tsu46q")},m(e,t){l(e,n,t),u(n,r),u(n,o);for(let e=0;e<a.length;e+=1)a[e].m(n,null);u(n,s),g.m(n,null)},p(e,[t]){if(111&t){let r;for(c=e[0],r=0;r<c.length;r+=1){const o=Qe(e,c,r);a[r]?a[r].p(o,t):(a[r]=et(o),a[r].c(),a[r].m(n,s))}for(;r<a.length;r+=1)a[r].d(1);a.length=c.length}h===(h=i(e))&&g?g.p(e,t):(g.d(1),g=h(e),g&&(g.c(),g.m(n,null)))},i:e,o:e,d(e){e&&f(n),d(a,e),g.d()}}}let at,it;function ut(e,t,n){let r,o,s;i(e,Ve,e=>n(7,r=e)),i(e,Ge,e=>n(8,o=e));let c,a=!1,u=!1,l=null;const f=Ge.subscribe(e=>{e&&(n(1,c=e.character),n(2,a=e.turn))}),d=We.subscribe(e=>{e&&(n(0,s=e.grid),n(3,u=e.gameOver),u&&n(4,l=e.winnerCharacter))}),p=(e,t,n)=>h(e,t)&&!n,h=(e,t)=>!!e&&!!t&&t==e;function m(){n(0,s=[...Array(15)].map(e=>Array(15).fill(""))),n(1,c=!1),n(2,a=!1),n(3,u=!1)}function g(e,t,c,a,i){p(e,t,c)&&""===s[a][i]&&(r.send(a+" "+i),n(0,s[a][i]=o.character,s),console.log(a+" "+i))}S(f),m();return[s,c,a,u,l,p,g,r,o,f,d,h,m,(e,t)=>g(c,a,u,e,t)]}class lt extends Y{constructor(e){super(),z(this,e,ut,ct,s,{})}}function ft(e){let t,n,r,o,s,c,a,i,d,b,$,x,C,k,S,E,N,O,R,A,T,j,L,q,B,U,_,P,D,F,I,M,J,H,z,Y,W,X,V,G,K,Q,Z,ee,te,ne,re,oe,se,ce,ae=e[0].name+"",ie=e[0].id+"",ue=e[0].level+"",le=e[0].wins+"",fe=e[0].losses+"",de=e[0].ties+"",pe=e[0].experience+"",he=e[2]&&dt(e);return{c(){t=p("p"),t.textContent="You",n=m(),r=p("table"),o=p("tr"),s=p("td"),s.textContent="Name",c=m(),a=p("td"),i=h(ae),d=m(),b=p("tr"),$=p("td"),$.textContent="ID",x=m(),C=p("td"),k=h(ie),S=m(),E=p("tr"),N=p("td"),N.textContent="Level",O=m(),R=p("td"),A=h(ue),T=m(),j=p("tr"),L=p("td"),L.textContent="Wins",q=m(),B=p("td"),U=h(le),_=m(),P=p("tr"),D=p("td"),D.textContent="Losses",F=m(),I=p("td"),M=h(fe),J=m(),H=p("tr"),z=p("td"),z.textContent="Ties",Y=m(),W=p("td"),X=h(de),V=m(),G=p("tr"),K=p("td"),K.textContent="MMR",Q=m(),Z=p("td"),ee=h(pe),te=m(),ne=p("p"),re=p("button"),re.textContent="Clicky",oe=m(),he&&he.c(),se=g(),y(t,"class","svelte-1r53d96"),y(s,"class","bold svelte-1r53d96"),y(a,"class","svelte-1r53d96"),y(o,"class","svelte-1r53d96"),y($,"class","bold svelte-1r53d96"),y(C,"class","svelte-1r53d96"),y(b,"class","svelte-1r53d96"),y(N,"class","bold svelte-1r53d96"),y(R,"class","svelte-1r53d96"),y(E,"class","svelte-1r53d96"),y(L,"class","bold svelte-1r53d96"),y(B,"class","svelte-1r53d96"),y(j,"class","svelte-1r53d96"),y(D,"class","bold svelte-1r53d96"),y(I,"class","svelte-1r53d96"),y(P,"class","svelte-1r53d96"),y(z,"class","bold svelte-1r53d96"),y(W,"class","svelte-1r53d96"),y(H,"class","svelte-1r53d96"),y(K,"class","bold svelte-1r53d96"),y(Z,"class","svelte-1r53d96"),y(G,"class","svelte-1r53d96"),y(r,"class","svelte-1r53d96"),y(re,"class","link svelte-1r53d96"),y(ne,"class","svelte-1r53d96")},m(f,p,h){l(f,t,p),l(f,n,p),l(f,r,p),u(r,o),u(o,s),u(o,c),u(o,a),u(a,i),u(r,d),u(r,b),u(b,$),u(b,x),u(b,C),u(C,k),u(r,S),u(r,E),u(E,N),u(E,O),u(E,R),u(R,A),u(r,T),u(r,j),u(j,L),u(j,q),u(j,B),u(B,U),u(r,_),u(r,P),u(P,D),u(P,F),u(P,I),u(I,M),u(r,J),u(r,H),u(H,z),u(H,Y),u(H,W),u(W,X),u(r,V),u(r,G),u(G,K),u(G,Q),u(G,Z),u(Z,ee),l(f,te,p),l(f,ne,p),u(ne,re),l(f,oe,p),he&&he.m(f,p),l(f,se,p),h&&ce(),ce=v(re,"click",e[5])},p(e,t){1&t&&ae!==(ae=e[0].name+"")&&w(i,ae),1&t&&ie!==(ie=e[0].id+"")&&w(k,ie),1&t&&ue!==(ue=e[0].level+"")&&w(A,ue),1&t&&le!==(le=e[0].wins+"")&&w(U,le),1&t&&fe!==(fe=e[0].losses+"")&&w(M,fe),1&t&&de!==(de=e[0].ties+"")&&w(X,de),1&t&&pe!==(pe=e[0].experience+"")&&w(ee,pe),e[2]?he?he.p(e,t):(he=dt(e),he.c(),he.m(se.parentNode,se)):he&&(he.d(1),he=null)},d(e){e&&f(t),e&&f(n),e&&f(r),e&&f(te),e&&f(ne),e&&f(oe),he&&he.d(e),e&&f(se),ce()}}}function dt(e){let t,n,o,s,c,a,i,d;return{c(){t=p("p"),n=h("Name\r\n          "),o=p("input"),s=m(),c=p("button"),c.textContent="Save",a=m(),i=p("button"),i.textContent="Reset ID",y(t,"class","svelte-1r53d96")},m(f,p,h){l(f,t,p),u(t,n),u(t,o),b(o,e[1]),l(f,s,p),l(f,c,p),l(f,a,p),l(f,i,p),h&&r(d),d=[v(o,"input",e[6]),v(c,"click",e[7]),v(i,"click",ht)]},p(e,t){2&t&&o.value!==e[1]&&b(o,e[1])},d(e){e&&f(t),e&&f(s),e&&f(c),e&&f(a),e&&f(i),r(d)}}}function pt(t){let n,r,o=t[0]&&ft(t);return{c(){n=p("gui"),r=p("div"),o&&o.c(),y(r,"class","wrapper svelte-1r53d96")},m(e,t){l(e,n,t),u(n,r),o&&o.m(r,null)},p(e,[t]){e[0]?o?o.p(e,t):(o=ft(e),o.c(),o.m(r,null)):o&&(o.d(1),o=null)},i:e,o:e,d(e){e&&f(n),o&&o.d()}}}async function ht(){let e=await Le();Ye.set(e.data)}function mt(e,t,n){let r,o,s=!1;const c=Ye.subscribe(e=>{n(0,r=e),n(1,o=e.name)});async function a(e){if(e){let t=await async function(e,t){return Te.put(`http://localhost:8080/api/player/${e}/${t}`)}(r.id,e);Ye.set(t.data)}}S(c),setInterval(async()=>{let e=await qe(r.id);n(0,r=e.data)},1e3);return[r,o,s,a,c,()=>{n(2,s=!s)},function(){o=this.value,n(1,o)},()=>a(o)]}class gt extends Y{constructor(e){super(),z(this,e,mt,pt,s,{})}}function vt(t){let n;return{c(){n=p("main"),n.textContent="opponentbox"},m(e,t){l(e,n,t)},p:e,i:e,o:e,d(e){e&&f(n)}}}class yt extends Y{constructor(e){super(),z(this,e,null,vt,s,{})}}function wt(){bt.connected||(at=bt().open()),at.onmessage=function(e){try{console.log(JSON.parse(e.data)),Xe.set(JSON.parse(e.data)),console.log(a(Xe).id),function(){$t.connected||(it=$t().open());it.onmessage=function(e){try{if(JSON.parse(e.data).hasOwnProperty("character")&&JSON.parse(e.data).hasOwnProperty("turn"))Ge.set(JSON.parse(e.data));else{We.set(JSON.parse(e.data));const t=a(Ge);t.turn=a(We).turn,Ge.set(t)}console.log(JSON.parse(e.data))}catch(e){console.log(e)}},it.onopen=function(e){Ve.set(it),console.log("game socket opened")},it.onclose=function(){console.log("gamesocket closed"),$t.connected=!1}}(),bt.connected=!1,bt.socket.close()}catch(t){console.log(e.data)}},at.onopen=function(){at.send("queue")},at.onclose=function(){console.log("websocket closed"),bt.connected=!1}}function bt(){return{connected:!1,open:()=>(bt.connected=!0,new WebSocket("ws://localhost:8080/queue/"+a(Ye).id))}}function $t(){return{connected:!1,open:()=>($t.connected=!0,new WebSocket(`ws://localhost:8080/play/${a(Xe).id}/${a(Ye).id}`))}}function xt(t){let n,r,o,s;return{c(){n=p("main"),r=p("button"),o=h("PLAY"),r.disabled=t[0]},m(e,c,a){l(e,n,c),u(n,r),u(r,o),a&&s(),s=v(r,"click",t[5])},p(e,[t]){1&t&&(r.disabled=e[0])},i:e,o:e,d(e){e&&f(n),s()}}}function Ct(e,t,n){let{init:r}=t,o=!1;const s=Xe.subscribe(e=>{n(0,o=void 0!==e&&e.gameFound)}),c=We.subscribe(e=>{void 0!==e&&n(0,o=!e.gameOver)});function a(){wt(),n(2,r=!r)}S(s);return e.$set=e=>{"init"in e&&n(2,r=e.init)},[o,a,r,s,c,()=>a()]}class kt extends Y{constructor(e){super(),z(this,e,Ct,xt,s,{init:2})}}function St(e){for(var t=e+"=",n=decodeURIComponent(document.cookie).split(";"),r=0;r<n.length;r++){for(var o=n[r];" "==o.charAt(0);)o=o.substring(1);if(0==o.indexOf(t))return o.substring(t.length,o.length)}return""}function Et(e){let t;const n=new lt({});return{c(){I(n.$$.fragment)},m(e,r){M(n,e,r),t=!0},i(e){t||(D(n.$$.fragment,e),t=!0)},o(e){F(n.$$.fragment,e),t=!1},d(e){J(n,e)}}}function Nt(e){let t;const n=new lt({});return{c(){I(n.$$.fragment)},m(e,r){M(n,e,r),t=!0},i(e){t||(D(n.$$.fragment,e),t=!0)},o(e){F(n.$$.fragment,e),t=!1},d(e){J(n,e)}}}function Ot(e){let t,n,o,s,c,a,i,d,h,g,v,w,b;const $=new gt({}),x=[Nt,Et],C=[];function k(e,t){return e[0]?0:1}function S(t){e[1].call(null,t)}a=k(e),i=C[a]=x[a](e);let E={};void 0!==e[0]&&(E.init=e[0]);const O=new kt({props:E});N.push(()=>function(e,t,n){const r=e.$$.props[t];void 0!==r&&(e.$$.bound[r]=n,n(e.$$.ctx[r]))}(O,"init",S));const A=new Je({}),T=new yt({});return{c(){t=p("main"),n=p("div"),o=p("div"),I($.$$.fragment),s=m(),c=p("div"),i.c(),d=m(),I(O.$$.fragment),g=m(),I(A.$$.fragment),v=m(),w=p("div"),I(T.$$.fragment),y(o,"class","leftThing svelte-ui853w"),y(c,"class","content svelte-ui853w"),y(w,"class","rightThing svelte-ui853w"),y(n,"class","container svelte-ui853w"),y(t,"class","svelte-ui853w")},m(e,r){l(e,t,r),u(t,n),u(n,o),M($,o,null),u(n,s),u(n,c),C[a].m(c,null),u(c,d),M(O,c,null),u(c,g),M(A,c,null),u(n,v),u(n,w),M(T,w,null),b=!0},p(e,[t]){let n=a;a=k(e),a!==n&&(P={r:0,c:[],p:P},F(C[n],1,1,()=>{C[n]=null}),P.r||r(P.c),P=P.p,i=C[a],i||(i=C[a]=x[a](e),i.c()),D(i,1),i.m(c,d));const o={};var s;!h&&1&t&&(h=!0,o.init=e[0],s=()=>h=!1,R.push(s)),O.$set(o)},i(e){b||(D($.$$.fragment,e),D(i),D(O.$$.fragment,e),D(A.$$.fragment,e),D(T.$$.fragment,e),b=!0)},o(e){F($.$$.fragment,e),F(i),F(O.$$.fragment,e),F(A.$$.fragment,e),F(T.$$.fragment,e),b=!1},d(e){e&&f(t),J($),C[a].d(),J(O),J(A),J(T)}}}async function Rt(){if(St("playerId")){const e=St("playerId"),t=await qe(e);console.log(t.data);const n=t.data;Ye.set(n)}else{const e=(await Le()).data;!function(e,t,n){var r=new Date;r.setTime(r.getTime()+24*n*60*60*1e3);var o="expires="+r.toUTCString();document.cookie=e+"="+t+";"+o+";path=/"}("playerId",e.id,360),Ye.set(e)}}function At(e,t,n){let r=!0;var o;return console.log("Rendergame: "+r),o=async()=>{await Rt()},k().$$.on_mount.push(o),[r,function(e){r=e,n(0,r)}]}return new class extends Y{constructor(e){super(),z(this,e,At,Ot,s,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
